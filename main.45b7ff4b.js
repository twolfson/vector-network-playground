parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"rd3l":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"fCK/":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"XO/A":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"rd3l","inherits":"fCK/","process":"pBGv"}],"DlZn":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"J4Nk","util/":"XO/A"}],"xd3S":[function(require,module,exports) {
var t=0;function e(e,r){this.vertexA=e,this.vertexB=r,this.id=t++}e.resetCounter=function(){t=0},e.prototype={contains:function(t){return this.vertexA===t||this.vertexB===t},matches:function(t,e){return this.vertexA===t&&this.vertexB===e||this.vertexA===e&&this.vertexB===t},other:function(t){return this.vertexA===t?this.vertexB:this.vertexB===t?this.vertexA:null}},module.exports=e;
},{}],"7dho":[function(require,module,exports) {
!function t(n,r,i){var e=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,n){if(!(this instanceof s))return new s(t,n);e(t)?(n=t[1],t=t[0]):"object"==typeof t&&t&&(n=t.y,t=t.x),this.x=s.clean(t||0),this.y=s.clean(n||0)}s.prototype={change:function(t){if("function"==typeof t)this.observers?this.observers.push(t):this.observers=[t];else if(this.observers&&this.observers.length)for(var n=this.observers.length-1;n>=0;n--)this.observers[n](this,t);return this},ignore:function(t){if(this.observers)if(t)for(var n=this.observers,r=n.length;r--;)n[r]===t&&n.splice(r,1);else this.observers=[];return this},set:function(t,n,r){if("number"!=typeof t&&(r=n,n=t.y,t=t.x),this.x===t&&this.y===n)return this;var i=null;return!1!==r&&this.observers&&this.observers.length&&(i=this.clone()),this.x=s.clean(t),this.y=s.clean(n),!1!==r?this.change(i):void 0},zero:function(){return this.set(0,0)},clone:function(){return new this.constructor(this.x,this.y)},negate:function(t){return t?new this.constructor(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(t,n,r){return"number"!=typeof t&&(r=n,e(t)?(n=t[1],t=t[0]):(n=t.y,t=t.x)),t+=this.x,n+=this.y,r?new this.constructor(t,n):this.set(t,n)},subtract:function(t,n,r){return"number"!=typeof t&&(r=n,e(t)?(n=t[1],t=t[0]):(n=t.y,t=t.x)),t=this.x-t,n=this.y-n,r?new this.constructor(t,n):this.set(t,n)},multiply:function(t,n,r){return"number"!=typeof t?(r=n,e(t)?(n=t[1],t=t[0]):(n=t.y,t=t.x)):"number"!=typeof n&&(r=n,n=t),t*=this.x,n*=this.y,r?new this.constructor(t,n):this.set(t,n)},rotate:function(t,n,r){var i,e,s=this.x,o=this.y,h=Math.cos(t),u=Math.sin(t);return i=h*s-(n=n?-1:1)*u*o,e=n*u*s+h*o,r?new this.constructor(i,e):this.set(i,e)},length:function(){var t=this.x,n=this.y;return Math.sqrt(t*t+n*n)},lengthSquared:function(){var t=this.x,n=this.y;return t*t+n*n},distance:function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},nearest:function(t){for(var n,r=Number.MAX_VALUE,i=null,e=t.length-1;e>=0;e--)(n=this.distance(t[e]))<=r&&(r=n,i=t[e]);return i},normalize:function(t){var n=this.length(),r=n<Number.MIN_VALUE?0:1/n;return t?new this.constructor(this.x*r,this.y*r):this.set(this.x*r,this.y*r)},equal:function(t,n){return"number"!=typeof t&&(e(t)?(n=t[1],t=t[0]):(n=t.y,t=t.x)),s.clean(t)===this.x&&s.clean(n)===this.y},abs:function(t){var n=Math.abs(this.x),r=Math.abs(this.y);return t?new this.constructor(n,r):this.set(n,r)},min:function(t,n){var r=this.x,i=this.y,e=t.x,s=t.y,o=r<e?r:e,h=i<s?i:s;return n?new this.constructor(o,h):this.set(o,h)},max:function(t,n){var r=this.x,i=this.y,e=t.x,s=t.y,o=r>e?r:e,h=i>s?i:s;return n?new this.constructor(o,h):this.set(o,h)},clamp:function(t,n,r){var i=this.min(n,!0).max(t);return r?i:this.set(i.x,i.y)},lerp:function(t,n,r){return this.add(t.subtract(this,!0).multiply(n),r)},skew:function(t){return t?new this.constructor(-this.y,this.x):this.set(-this.y,this.x)},dot:function(t){return s.clean(this.x*t.x+t.y*this.y)},perpDot:function(t){return s.clean(this.x*t.y-this.y*t.x)},angleTo:function(t){return Math.atan2(this.perpDot(t),this.dot(t))},divide:function(t,n,r){if("number"!=typeof t?(r=n,e(t)?(n=t[1],t=t[0]):(n=t.y,t=t.x)):"number"!=typeof n&&(r=n,n=t),0===t||0===n)throw new Error("division by zero");if(isNaN(t)||isNaN(n))throw new Error("NaN detected");return r?new this.constructor(this.x/t,this.y/n):this.set(this.x/t,this.y/n)},isPointOnLine:function(t,n){return(t.y-this.y)*(t.x-n.x)==(t.y-n.y)*(t.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(t){return this.set(t[0],t[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"},constructor:s},s.fromArray=function(t,n){return new(n||s)(t[0],t[1])},s.precision=r||8;var o=Math.pow(10,s.precision);return s.clean=n||function(t){if(isNaN(t))throw new Error("NaN detected");if(!isFinite(t))throw new Error("Infinity detected");return Math.round(t)===t?t:Math.round(t*o)/o},s.inject=t,n||(s.fast=t(function(t){return t}),"undefined"!=typeof module&&"object"==typeof module.exports?module.exports=s:window.Vec2=window.Vec2||s),s}();
},{}],"aaVS":[function(require,module,exports) {
function e(e,n,o,d,t,i,f,g){if(4===arguments.length){var u=e,l=n,r=o,s=d;u.length&&2===u.length?(e=u[0],n=u[1],o=l[0],d=l[1],t=r[0],i=r[1],f=s[0],g=s[1]):(e=u.x,n=u.y,o=l.x,d=l.y,t=r.x,i=r.y,f=s.x,g=s.y)}var w,x,y,p,h,m,a,v,c,b,j;if(b=(w=d-n)*f+(y=e-o)*g+(h=o*n-e*d),!(0!==(c=w*t+y*i+h)&&0!==b&&(c>=0&&b>=0||c<0&&b<0)||(v=(x=g-i)*o+(p=t-f)*d+(m=f*i-t*g),0!==(a=x*e+p*n+m)&&0!==v&&(a>=0&&v>=0||a<0&&v<0))))return 0===(j=w*p-x*y)||(j<0?-j/2:j/2,[(y*m-p*h)/j,(x*h-w*m)/j])}"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&(window.segseg=window.segseg||e);
},{}],"U9J+":[function(require,module,exports) {
!function t(i,n,e){function r(t,i){return this instanceof r?"object"==typeof t&&t?(this.y=t.y||0,void(this.x=t.x||0)):(this.x=r.clean(t||0),void(this.y=r.clean(i||0))):new r(t,i)}r.prototype={change:function(t){if(t)this.observers?this.observers.push(t):this.observers=[t];else if(this.observers)for(var i=this.observers.length-1;i>=0;i--)this.observers[i](this);return this},ignore:function(t){if(this.observers)for(var i=this.observers,n=i.length;n--;)i[n]===t&&i.splice(n,1);return this},set:function(t,i,n){return"number"!=typeof t&&(n=i,i=t.y,t=t.x),this.x===t&&this.y===i?this:(this.x=r.clean(t),this.y=r.clean(i),!1!==n?this.change():void 0)},zero:function(){return this.set(0,0)},clone:function(){return new r(this.x,this.y)},negate:function(t){return t?new r(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(t,i){return i?new r(this.x+t.x,this.y+t.y):(this.x+=t.x,this.y+=t.y,this.change())},subtract:function(t,i){return i?new r(this.x-t.x,this.y-t.y):(this.x-=t.x,this.y-=t.y,this.change())},multiply:function(t,i){var n,e;return"number"!=typeof t?(n=t.x,e=t.y):n=e=t,i?new r(this.x*n,this.y*e):this.set(this.x*n,this.y*e)},rotate:function(t,i,n){var e,s,h=this.x,o=this.y,u=Math.cos(t),a=Math.sin(t);return e=u*h-(i=i?-1:1)*a*o,s=i*a*h+u*o,n?new r(e,s):this.set(e,s)},length:function(){var t=this.x,i=this.y;return Math.sqrt(t*t+i*i)},lengthSquared:function(){var t=this.x,i=this.y;return t*t+i*i},distance:function(t){var i=this.x-t.x,n=this.y-t.y;return Math.sqrt(i*i+n*n)},normalize:function(t){var i=this.length(),n=i<Number.MIN_VALUE?0:1/i;return t?new r(this.x*n,this.y*n):this.set(this.x*n,this.y*n)},equal:function(t,i){return i===e&&(i=t.y,t=t.x),r.clean(t)===this.x&&r.clean(i)===this.y},abs:function(t){var i=Math.abs(this.x),n=Math.abs(this.y);return t?new r(i,n):this.set(i,n)},min:function(t,i){var n=this.x,e=this.y,s=t.x,h=t.y,o=n<s?n:s,u=e<h?e:h;return i?new r(o,u):this.set(o,u)},max:function(t,i){var n=this.x,e=this.y,s=t.x,h=t.y,o=n>s?n:s,u=e>h?e:h;return i?new r(o,u):this.set(o,u)},clamp:function(t,i,n){var e=this.min(i,!0).max(t);return n?e:this.set(e.x,e.y)},lerp:function(t,i){return this.add(t.subtract(this,!0).multiply(i),!0)},skew:function(){return new r(-this.y,this.x)},dot:function(t){return r.clean(this.x*t.x+t.y*this.y)},perpDot:function(t){return r.clean(this.x*t.y-this.y*t.x)},angleTo:function(t){return Math.atan2(this.perpDot(t),this.dot(t))},divide:function(t,i){var n,e;if("number"!=typeof t?(n=t.x,e=t.y):n=e=t,0===n||0===e)throw new Error("division by zero");if(isNaN(n)||isNaN(e))throw new Error("NaN detected");return i?new r(this.x/n,this.y/e):this.set(this.x/n,this.y/e)},isPointOnLine:function(t,i){return(t.y-this.y)*(t.x-i.x)==(t.y-i.y)*(t.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(t){return this.set(t[0],t[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"}},r.fromArray=function(t){return new r(t[0],t[1])},r.precision=n||8;var s=Math.pow(10,r.precision);return r.clean=i||function(t){if(isNaN(t))throw new Error("NaN detected");if(!isFinite(t))throw new Error("Infinity detected");return Math.round(t)===t?t:Math.round(t*s)/s},r.inject=t,i||(r.fast=t(function(t){return t}),"undefined"!=typeof module&&"object"==typeof module.exports?module.exports=r:window.Vec2=window.Vec2||r),r}();
},{}],"BvZS":[function(require,module,exports) {
if("undefined"!=typeof require)var t=require("vec2"),e=require("segseg");var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t){return void 0!==t},n=function(t,e){return r(t)?t:e},s=function(t){return t!==1/0&&t!==-1/0},o=function(t,e,i,r){return t*r-e*i};function p(t,e,i,n){return this._listeners=[],this instanceof p?r(i)&&r(n)?p.fromPoints(t,e,i,n):(r(t)&&this.slope(t),void(r(e)&&this.yintercept(e))):new p(t,e,i,n)}p.prototype._yintercept=null,p.prototype._xintercept=null,p.prototype._slope=null,p.prototype.change=function(t){if("function"==typeof t)return this._listeners.push(t),t},p.prototype.ignore=function(t){this._listeners=t?this._listeners.filter(function(e){return e!==t}):[]},p.prototype.notify=function(t){for(var e=this._listeners,i=e.length,r=0;r<i;r++)e[r](this)},p.prototype.yintercept=function(e){return r(e)&&(s(e)&&(e=t.clean(e)),this._yintercept!==e&&(this._yintercept=e,this.isHorizontal()||(this._xintercept=this.solveForX(0)),this.notify())),n(this._yintercept,null)},p.prototype.xintercept=function(e){if(r(e)&&(s(e)&&(e=t.clean(e)),this._xintercept!==e)){if(!this.isVertical()){var i=this._xintercept-e;this._yintercept-=i*-this._slope}this._xintercept=e,this.notify()}return n(this._xintercept,null)},p.prototype.slope=function(e){if(r(e)&&(s(e)&&(e=t.clean(e)),this._slope!==e)){var i=this._slope;if(this._slope=e,null!==i){var o=this.solveForX(0);s(o)||(o=null),this._xintercept=o}this.notify()}return n(this._slope,null)},p.prototype.intersectSegment=function(i,r,n,s){var o,p,c,l,h,u=n-i,f=s-r,a=this.isHorizontal(),v=this.isVertical();if(0===u){if(v)return i===this.xintercept()}else if(0===f){if(a)return r===this.yintercept()}else if(f/u===this.slope())return r===this.solveForY(i);if(i>n?(o=n-10,c=i+10):(o=i-10,c=n+10),this.isHorizontal())y=this.yintercept(),h=e(o,y,c,y,i,r,n,s);else if(this.isVertical()){r>s?(p=s-10,l=r+10):(p=r-10,l=s+10);var x=this.xintercept();h=e(x,p,x,l,i,r,n,s)}else p=this.solveForY(o),l=this.solveForY(c),h=e(o,p,c,l,i,r,n,s);return h&&!0!==h?t.fromArray(h):h},p.prototype.createPerpendicular=function(t){if(this.isVertical())return new p(0,t.y);if(this.isHorizontal()){var e=new p;return e.xintercept(t.x),e.slope(1/0),e}var i=-1/this.slope();return new p(i,t.y-i*t.x)},p.prototype.intersectCircle=function(e,i){var r,n,s,o,p=i*i,c=this.slope(),l=this.yintercept();this.isHorizontal()?(r=1,n=0):this.isVertical()?(l=p,r=0,n=c=i):(r=1/c,n=1);var h=this.isVertical()?this.xintercept():1,u=l+c,y=r*r,f=n*n,a=r*(e.y-u)-n*(e.x-h);a*=a;var v=y+f,x=Math.sqrt(p*(y+f)-a);if(isNaN(x))return[];x/=v;var _=r*(e.x-h)+n*(e.y-u),F=_/v+x,d=_/v-x;s=new t(h+F*r,u+F*n),o=new t(h+d*r,u+d*n);var w=[s];return s.equal(o)||w.push(o),w},p.prototype.solveForX=function(t){return this.isVertical()?this.xintercept():(t-this.yintercept())/this.slope()},p.prototype.solveForY=function(t){return this.isHorizontal()?this.yintercept():this.slope()*t+this.yintercept()},p.prototype.intersect=function(e,i,n,p){if(r(i)&&r(p)||r(e.end))return this.intersectSegment(e,i,n,p);var c=this.slope(),l=e.slope();if(c===l)return this.yintercept()===e.yintercept()&&this.xintercept()===e.xintercept();if(s(c)&&s(l)){if(this.isHorizontal())return new t(e.solveForX(this.yintercept()),this.yintercept());if(e.isHorizontal())return new t(this.solveForX(e.yintercept()),e.yintercept());var h=e.solveForX(-1);i=e.solveForY(h),n=e.solveForX(1),p=e.solveForY(n);var u=this.solveForX(-1),y=this.solveForY(u),f=this.solveForX(1),a=this.solveForY(f),v=o(h,i,n,p),x=o(u,y,f,a),_=o(v,h-n,x,u-f),F=o(v,i-p,x,y-a),d=o(h-n,i-p,u-f,y-a);return t(_/d,F/d)}var w,z,H=this.xintercept()||e.xintercept();return s(c)?(w=c,z=this.yintercept()):(w=l,z=e.yintercept()),t(H,0!==w?H*w+z:z)},p.fromPoints=function(t,e,n,s){i(e)?(s=e[1],n=e[0]):r(e)&&r(e.x)&&r(e.y)&&(s=e.y,n=e.x),i(t)?(e=t[1],t=t[0]):r(t)&&r(t.x)&&r(t.y)&&(e=t.y,t=t.x);var o=new p,c=(s-e)/(n-t);return o.slope(c),o.isHorizontal()?o.yintercept(e):o.isVertical()?o.xintercept(n):o.yintercept(e-c*t),o},p.prototype.isHorizontal=function(){return!this.slope()},p.prototype.isVertical=function(){return!s(this.slope())},p.prototype.closestPointTo=function(e){var i=this.yintercept(),r=this.xintercept();this.slope();return this.isHorizontal()?t(e.x,i):this.isVertical()?t(r,e.y):this.intersect(this.createPerpendicular(e))},p.prototype.containsPoint=function(t,e){var i=t;return r(e)||(e=t.y,i=t.x),this.isHorizontal()?e===this.yintercept():this.isVertical()?i===this.xintercept():e===this.solveForY(i)},"undefined"!=typeof module&&"object"==typeof module.exports&&(module.exports=p),"undefined"!=typeof window&&(window.Line2=window.Line2||p);
},{"vec2":"U9J+","segseg":"aaVS"}],"8Mnn":[function(require,module,exports) {
"use strict";module.exports=t;var r=+(Math.pow(2,27)+1);function t(t,e,o){var u=t*e,a=r*t,n=a-(a-t),s=t-n,c=r*e,i=c-(c-e),p=e-i,v=s*p-(u-n*i-s*i-n*p);return o?(o[0]=v,o[1]=u,o):[v,u]}
},{}],"Q8bh":[function(require,module,exports) {
"use strict";function r(r,t){var n=r+t,e=n-r,a=r-(n-e)+(t-e);return a?[a,n]:[n]}function t(t,n){var e=0|t.length,a=0|n.length;if(1===e&&1===a)return r(t[0],n[0]);var o,u,f=new Array(e+a),h=0,i=0,l=0,s=Math.abs,v=t[i],c=s(v),g=n[l],b=s(g);c<b?(u=v,(i+=1)<e&&(c=s(v=t[i]))):(u=g,(l+=1)<a&&(b=s(g=n[l]))),i<e&&c<b||l>=a?(o=v,(i+=1)<e&&(c=s(v=t[i]))):(o=g,(l+=1)<a&&(b=s(g=n[l])));for(var d,m,p=o+u,w=p-o,x=u-w,y=x,A=p;i<e&&l<a;)c<b?(o=v,(i+=1)<e&&(c=s(v=t[i]))):(o=g,(l+=1)<a&&(b=s(g=n[l]))),(x=(u=y)-(w=(p=o+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d;for(;i<e;)(x=(u=y)-(w=(p=(o=v)+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d,(i+=1)<e&&(v=t[i]);for(;l<a;)(x=(u=y)-(w=(p=(o=g)+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d,(l+=1)<a&&(g=n[l]);return y&&(f[h++]=y),A&&(f[h++]=A),h||(f[h++]=0),f.length=h,f}module.exports=t;
},{}],"cd+A":[function(require,module,exports) {
"use strict";function r(r,t,e){var u=r+t,n=u-r,o=t-n,s=r-(u-n);return e?(e[0]=s+o,e[1]=u,e):[s+o,u]}module.exports=r;
},{}],"jbtT":[function(require,module,exports) {
"use strict";var r=require("two-product"),e=require("two-sum");function t(t,u){var a=t.length;if(1===a){var n=r(t[0],u);return n[0]?n:[n[1]]}var o=new Array(2*a),v=[.1,.1],i=[.1,.1],s=0;r(t[0],u,v),v[0]&&(o[s++]=v[0]);for(var c=1;c<a;++c){r(t[c],u,i);var f=v[1];e(f,i[0],v),v[0]&&(o[s++]=v[0]);var l=i[1],w=v[1],d=l+w,g=w-(d-l);v[1]=d,g&&(o[s++]=g)}return v[1]&&(o[s++]=v[1]),0===s&&(o[s++]=0),o.length=s,o}module.exports=t;
},{"two-product":"8Mnn","two-sum":"cd+A"}],"8fBv":[function(require,module,exports) {
"use strict";function r(r,t){var n=r+t,e=n-r,a=r-(n-e)+(t-e);return a?[a,n]:[n]}function t(t,n){var e=0|t.length,a=0|n.length;if(1===e&&1===a)return r(t[0],-n[0]);var o,u,f=new Array(e+a),h=0,i=0,l=0,s=Math.abs,v=t[i],c=s(v),g=-n[l],b=s(g);c<b?(u=v,(i+=1)<e&&(c=s(v=t[i]))):(u=g,(l+=1)<a&&(b=s(g=-n[l]))),i<e&&c<b||l>=a?(o=v,(i+=1)<e&&(c=s(v=t[i]))):(o=g,(l+=1)<a&&(b=s(g=-n[l])));for(var d,m,p=o+u,w=p-o,x=u-w,y=x,A=p;i<e&&l<a;)c<b?(o=v,(i+=1)<e&&(c=s(v=t[i]))):(o=g,(l+=1)<a&&(b=s(g=-n[l]))),(x=(u=y)-(w=(p=o+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d;for(;i<e;)(x=(u=y)-(w=(p=(o=v)+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d,(i+=1)<e&&(v=t[i]);for(;l<a;)(x=(u=y)-(w=(p=(o=g)+u)-o))&&(f[h++]=x),y=A-((d=A+p)-(m=d-A))+(p-m),A=d,(l+=1)<a&&(g=-n[l]);return y&&(f[h++]=y),A&&(f[h++]=A),h||(f[h++]=0),f.length=h,f}module.exports=t;
},{}],"GDiG":[function(require,module,exports) {
"use strict";var r=require("two-product"),n=require("robust-sum"),t=require("robust-scale"),e=require("robust-subtract"),u=5,a=1.1102230246251565e-16,o=(3+16*a)*a,i=(7+56*a)*a;function s(r,n){for(var t=new Array(r.length-1),e=1;e<r.length;++e)for(var u=t[e-1]=new Array(r.length-1),a=0,o=0;a<r.length;++a)a!==n&&(u[o++]=r[e][a]);return t}function h(r){for(var n=new Array(r),t=0;t<r;++t){n[t]=new Array(r);for(var e=0;e<r;++e)n[t][e]=["m",e,"[",r-t-1,"]"].join("")}return n}function l(r){return 1&r?"-":""}function c(r){if(1===r.length)return r[0];if(2===r.length)return["sum(",r[0],",",r[1],")"].join("");var n=r.length>>1;return["sum(",c(r.slice(0,n)),",",c(r.slice(n)),")"].join("")}function f(r){if(2===r.length)return[["sum(prod(",r[0][0],",",r[1][1],"),prod(-",r[0][1],",",r[1][0],"))"].join("")];for(var n=[],t=0;t<r.length;++t)n.push(["scale(",c(f(s(r,t))),",",l(t),r[0][t],")"].join(""));return n}function p(u){for(var a=[],o=[],i=h(u),l=[],p=0;p<u;++p)0==(1&p)?a.push.apply(a,f(s(i,p))):o.push.apply(o,f(s(i,p))),l.push("m"+p);var g=c(a),v=c(o),b="orientation"+u+"Exact",m=["function ",b,"(",l.join(),"){var p=",g,",n=",v,",d=sub(p,n);return d[d.length-1];};return ",b].join("");return new Function("sum","prod","scale","sub",m)(n,r,t,e)}var g=p(3),v=p(4),b=[function(){return 0},function(){return 0},function(r,n){return n[0]-r[0]},function(r,n,t){var e,u=(r[1]-t[1])*(n[0]-t[0]),a=(r[0]-t[0])*(n[1]-t[1]),i=u-a;if(u>0){if(a<=0)return i;e=u+a}else{if(!(u<0))return i;if(a>=0)return i;e=-(u+a)}var s=o*e;return i>=s||i<=-s?i:g(r,n,t)},function(r,n,t,e){var u=r[0]-e[0],a=n[0]-e[0],o=t[0]-e[0],s=r[1]-e[1],h=n[1]-e[1],l=t[1]-e[1],c=r[2]-e[2],f=n[2]-e[2],p=t[2]-e[2],g=a*l,b=o*h,m=o*s,d=u*l,j=u*h,w=a*s,y=c*(g-b)+f*(m-d)+p*(j-w),M=(Math.abs(g)+Math.abs(b))*Math.abs(c)+(Math.abs(m)+Math.abs(d))*Math.abs(f)+(Math.abs(j)+Math.abs(w))*Math.abs(p),A=i*M;return y>A||-y>A?y:v(r,n,t,e)}];function m(r){var n=b[r.length];return n||(n=b[r.length]=p(r.length)),n.apply(void 0,r)}function d(){for(;b.length<=u;)b.push(p(b.length));for(var r=[],n=["slow"],t=0;t<=u;++t)r.push("a"+t),n.push("o"+t);var e=["function getOrientation(",r.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(t=2;t<=u;++t)e.push("case ",t,":return o",t,"(",r.slice(0,t).join(),");");e.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(e.join(""));var a=Function.apply(void 0,n);module.exports=a.apply(void 0,[m].concat(b));for(t=0;t<=u;++t)module.exports[t]=b[t]}d();
},{"two-product":"8Mnn","robust-sum":"Q8bh","robust-scale":"jbtT","robust-subtract":"8fBv"}],"++2h":[function(require,module,exports) {
"use strict";function e(e,n,u,i,r,t){var h=["function ",e,"(a,l,h,",i.join(","),"){",t?"":"var i=",u?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",r?".get(m)":"[m]"];return t?n.indexOf("c")<0?h.push(";if(x===y){return m}else if(x<=y){"):h.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):h.push(";if(",n,"){i=m;"),u?h.push("l=m+1}else{h=m-1}"):h.push("h=m-1}else{l=m+1}"),h.push("}"),t?h.push("return -1};"):h.push("return i};"),h.join("")}function n(n,u,i,r){return new Function([e("A","x"+n+"y",u,["y"],!1,r),e("B","x"+n+"y",u,["y"],!0,r),e("P","c(x,y)"+n+"0",u,["y","c"],!1,r),e("Q","c(x,y)"+n+"0",u,["y","c"],!0,r),"function dispatchBsearch",i,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",i].join(""))()}module.exports={ge:n(">=",!1,"GE"),gt:n(">",!1,"GT"),lt:n("<",!0,"LT"),le:n("<=",!0,"LE"),eq:n("-",!0,"EQ",!0)};
},{}],"4g+r":[function(require,module,exports) {
"use strict";module.exports=p;var t=0,e=1;function r(t,e,r,o,i,n){this._color=t,this.key=e,this.value=r,this.left=o,this.right=i,this._count=n}function o(t){return new r(t._color,t.key,t.value,t.left,t.right,t._count)}function i(t,e){return new r(t,e.key,e.value,e.left,e.right,e._count)}function n(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function l(t,e){this._compare=t,this.root=e}var h=l.prototype;function f(t,e){var r;if(e.left&&(r=f(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?f(t,e.right):void 0)}function c(t,e,r,o){if(e(t,o.key)<=0){var i;if(o.left)if(i=c(t,e,r,o.left))return i;if(i=r(o.key,o.value))return i}if(o.right)return c(t,e,r,o.right)}function u(t,e,r,o,i){var n,l=r(t,i.key),h=r(e,i.key);if(l<=0){if(i.left&&(n=u(t,e,r,o,i.left)))return n;if(h>0&&(n=o(i.key,i.value)))return n}if(h>0&&i.right)return u(t,e,r,o,i.right)}function g(t,e){this.tree=t,this._stack=e}Object.defineProperty(h,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}}),Object.defineProperty(h,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}}),Object.defineProperty(h,"length",{get:function(){return this.root?this.root._count:0}}),h.insert=function(o,h){for(var f=this._compare,c=this.root,u=[],g=[];c;){var _=f(o,c.key);u.push(c),g.push(_),c=_<=0?c.left:c.right}u.push(new r(t,o,h,null,null,1));for(var a=u.length-2;a>=0;--a){c=u[a];g[a]<=0?u[a]=new r(c._color,c.key,c.value,u[a+1],c.right,c._count+1):u[a]=new r(c._color,c.key,c.value,c.left,u[a+1],c._count+1)}for(a=u.length-1;a>1;--a){var s=u[a-1];c=u[a];if(s._color===e||c._color===e)break;var v=u[a-2];if(v.left===s)if(s.left===c){if(!(p=v.right)||p._color!==t){if(v._color=t,v.left=s.right,s._color=e,s.right=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).left===v?k.left=s:k.right=s;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else{if(!(p=v.right)||p._color!==t){if(s.right=c.left,v._color=t,v.left=c.right,c._color=e,c.left=s,c.right=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).left===v?k.left=c:k.right=c;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else if(s.right===c){if(!(p=v.left)||p._color!==t){if(v._color=t,v.right=s.left,s._color=e,s.left=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).right===v?k.right=s:k.left=s;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}else{var p;if(!(p=v.left)||p._color!==t){var k;if(s.left=c.right,v._color=t,v.right=c.left,c._color=e,c.right=s,c.left=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).right===v?k.right=c:k.left=c;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}}return u[0]._color=e,new l(f,u[0])},h.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return f(t,this.root);case 2:return c(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return u(e,r,this._compare,t,this.root)}},Object.defineProperty(h,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new g(this,t)}}),Object.defineProperty(h,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new g(this,t)}}),h.at=function(t){if(t<0)return new g(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new g(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new g(this,[])},h.ge=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<=0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.gt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.lt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.le=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>=0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.find=function(t){for(var e=this._compare,r=this.root,o=[];r;){var i=e(t,r.key);if(o.push(r),0===i)return new g(this,o);r=i<=0?r.left:r.right}return new g(this,[])},h.remove=function(t){var e=this.find(t);return e?e.remove():this},h.get=function(t){for(var e=this._compare,r=this.root;r;){var o=e(t,r.key);if(0===o)return r.value;r=o<=0?r.left:r.right}};var _=g.prototype;function a(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function s(r){for(var l,h,f,c,u=r.length-1;u>=0;--u){if(l=r[u],0===u)return void(l._color=e);if((h=r[u-1]).left===l){if((f=h.right).right&&f.right._color===t){if(c=(f=h.right=o(f)).right=o(f.right),h.right=f.left,f.left=h,f.right=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).left===h?g.left=f:g.right=f;return void(r[u-1]=f)}if(f.left&&f.left._color===t){if(c=(f=h.right=o(f)).left=o(f.left),h.right=c.left,f.left=c.right,c.left=h,c.right=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).left===h?g.left=c:g.right=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.right=i(t,f));h.right=i(t,f);continue}f=o(f),h.right=f.left,f.left=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).left===h?g.left=f:g.right=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}else{if((f=h.left).left&&f.left._color===t){if(c=(f=h.left=o(f)).left=o(f.left),h.left=f.right,f.right=h,f.left=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).right===h?g.right=f:g.left=f;return void(r[u-1]=f)}if(f.right&&f.right._color===t){if(c=(f=h.left=o(f)).right=o(f.right),h.left=c.right,f.right=c.left,c.right=h,c.left=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).right===h?g.right=c:g.left=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.left=i(t,f));h.left=i(t,f);continue}var g;f=o(f),h.left=f.right,f.right=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).right===h?g.right=f:g.left=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}}}function v(t,e){return t<e?-1:t>e?1:0}function p(t){return new l(t||v,null)}Object.defineProperty(_,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(_,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),_.clone=function(){return new g(this.tree,this._stack.slice())},_.remove=function(){var o=this._stack;if(0===o.length)return this.tree;var i=new Array(o.length),n=o[o.length-1];i[i.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var h=o.length-2;h>=0;--h){(n=o[h]).left===o[h+1]?i[h]=new r(n._color,n.key,n.value,i[h+1],n.right,n._count):i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count)}if((n=i[i.length-1]).left&&n.right){var f=i.length;for(n=n.left;n.right;)i.push(n),n=n.right;var c=i[f-1];i.push(new r(n._color,c.key,c.value,n.left,n.right,n._count)),i[f-1].key=n.key,i[f-1].value=n.value;for(h=i.length-2;h>=f;--h)n=i[h],i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count);i[f-1].left=i[f]}if((n=i[i.length-1])._color===t){var u=i[i.length-2];u.left===n?u.left=null:u.right===n&&(u.right=null),i.pop();for(h=0;h<i.length;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(n.left||n.right){n.left?a(n,n.left):n.right&&a(n,n.right),n._color=e;for(h=0;h<i.length-1;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(1===i.length)return new l(this.tree._compare,null);for(h=0;h<i.length;++h)i[h]._count--;var g=i[i.length-2];return s(i),g.left===n?g.left=null:g.right=null,new l(this.tree._compare,i[0])},Object.defineProperty(_,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(_,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(_,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var o=e.length-2;o>=0;--o)e[o+1]===e[o].right&&(++t,e[o].left&&(t+=e[o].left._count));return t},enumerable:!0}),_.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),_.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var o=new Array(e.length),i=e[e.length-1];o[o.length-1]=new r(i._color,i.key,t,i.left,i.right,i._count);for(var n=e.length-2;n>=0;--n)(i=e[n]).left===e[n+1]?o[n]=new r(i._color,i.key,i.value,o[n+1],i.right,i._count):o[n]=new r(i._color,i.key,i.value,i.left,o[n+1],i._count);return new l(this.tree._compare,o[0])},_.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}});
},{}],"UI+h":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("robust-orientation");function e(e,i){var t,n,f,u;if(i[0][0]<i[1][0])t=i[0],n=i[1];else{if(!(i[0][0]>i[1][0])){var a=Math.min(e[0][1],e[1][1]),s=Math.max(e[0][1],e[1][1]),l=Math.min(i[0][1],i[1][1]),o=Math.max(i[0][1],i[1][1]);return s<l?s-l:a>o?a-o:s-o}t=i[1],n=i[0]}e[0][1]<e[1][1]?(f=e[0],u=e[1]):(f=e[1],u=e[0]);var v=r(n,t,f);return v||((v=r(n,t,u))||u-n)}function i(i,t){var n,f,u,a;if(t[0][0]<t[1][0])n=t[0],f=t[1];else{if(!(t[0][0]>t[1][0]))return e(t,i);n=t[1],f=t[0]}if(i[0][0]<i[1][0])u=i[0],a=i[1];else{if(!(i[0][0]>i[1][0]))return-e(i,t);u=i[1],a=i[0]}var s=r(n,f,a),l=r(n,f,u);if(s<0){if(l<=0)return s}else if(s>0){if(l>=0)return s}else if(l)return l;if(s=r(a,u,f),l=r(a,u,n),s<0){if(l<=0)return s}else if(s>0){if(l>=0)return s}else if(l)return l;return f[0]-a[0]}
},{"robust-orientation":"GDiG"}],"w8de":[function(require,module,exports) {
"use strict";module.exports=f;var e=require("binary-search-bounds"),t=require("functional-red-black-tree"),r=require("robust-orientation"),n=require("./lib/order-segments");function i(e,t,r){this.slabs=e,this.coordinates=t,this.horizontal=r}var s=i.prototype;function a(e,t){return e.y-t}function u(e,t){for(var n=null;e;){var i,s,a=e.key;a[0][0]<a[1][0]?(i=a[0],s=a[1]):(i=a[1],s=a[0]);var o=r(i,s,t);if(o<0)e=e.left;else if(o>0)if(t[0]!==a[1][0])n=e,e=e.right;else{if(h=u(e.right,t))return h;e=e.left}else{if(t[0]!==a[1][0])return e;var h;if(h=u(e.right,t))return h;e=e.left}}return n}function o(e,t,r,n){this.y=e,this.index=t,this.start=r,this.closed=n}function h(e,t,r,n){this.x=e,this.segment=t,this.create=r,this.index=n}function f(e){for(var r=e.length,s=2*r,a=new Array(s),u=0;u<r;++u){var f=e[u],l=f[0][0]<f[1][0];a[2*u]=new h(f[0][0],f,l,u),a[2*u+1]=new h(f[1][0],f,!l,u)}a.sort(function(e,t){var r=e.x-t.x;return r||((r=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1]))});var g=t(n),c=[],v=[],d=[];for(u=0;u<s;){for(var m=a[u].x,x=[];u<s;){var y=a[u];if(y.x!==m)break;u+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(x.push(new o(y.segment[0][1],y.index,!0,!0)),x.push(new o(y.segment[1][1],y.index,!1,!1))):(x.push(new o(y.segment[1][1],y.index,!0,!1)),x.push(new o(y.segment[0][1],y.index,!1,!0)))):g=y.create?g.insert(y.segment,y.index):g.remove(y.segment)}c.push(g.root),v.push(m),d.push(x)}return new i(c,v,d)}s.castUp=function(t){var i=e.le(this.coordinates,t[0]);if(i<0)return-1;this.slabs[i];var s=u(this.slabs[i],t),o=-1;if(s&&(o=s.value),this.coordinates[i]===t[0]){var h=null;if(s&&(h=s.key),i>0){var f=u(this.slabs[i-1],t);f&&(h?n(f.key,h)>0&&(h=f.key,o=f.value):(o=f.value,h=f.key))}var l=this.horizontal[i];if(l.length>0){var g=e.ge(l,t[1],a);if(g<l.length){var c=l[g];if(t[1]===c.y){if(c.closed)return c.index;for(;g<l.length-1&&l[g+1].y===t[1];)if((c=l[g+=1]).closed)return c.index;if(c.y===t[1]&&!c.start){if((g+=1)>=l.length)return o;c=l[g]}}if(c.start)if(h){var v=r(h[0],h[1],[t[0],c.y]);h[0][0]>h[1][0]&&(v=-v),v>0&&(o=c.index)}else o=c.index;else c.y!==t[1]&&(o=c.index)}}}return o};
},{"binary-search-bounds":"++2h","functional-red-black-tree":"4g+r","robust-orientation":"GDiG","./lib/order-segments":"UI+h"}],"qJ4M":[function(require,module,exports) {
"use strict";module.exports=o;var r=require("robust-orientation"),e=require("slab-decomposition");function t(r){return-1}function n(e,t,n,o){return function(i){var u=t.castUp(i);if(u<0)return n;var a=e[u];return o?r(i,a[1],a[0]):r(i,a[0],a[1])}}function o(r,o){o=!!o;for(var i=r.length,u=0,a=0;a<i;++a)u+=r[a].length;if(0===u)return t;var f=new Array(u),l=0;for(a=0;a<i;++a)for(var s=r[a],v=s.length,c=v-1,h=0;h<v;c=h++)f[l++]=[s[c],s[h]];var b,d=e(f),g=d.slabs[0];if(g){for(;g.left;)g=g.left;b=(p=g.key)[0][0]<p[1][0]?-1:1}else{var p;b=(p=f[d.horizontal[0][0].index])[0][1]<p[1][1]?1:-1}return o&&(b=-b),n(f,d,b,o)}
},{"robust-orientation":"GDiG","slab-decomposition":"w8de"}],"nk0M":[function(require,module,exports) {
module.exports=n;var r=[0,0],e=[0,0];function n(n){for(var o=0,t=n[0],a=n.length,u=2;u<a;u++){var v=n[u-1],f=n[u];r[0]=t[0]-f[0],r[1]=t[1]-f[1],e[0]=t[0]-v[0],e[1]=t[1]-v[1],o+=r[0]*e[1]-r[1]*e[0]}return o/2}
},{}],"fuZY":[function(require,module,exports) {
"use strict";module.exports=function(t){return t<0?-1:t>0?1:0};
},{}],"3ZKJ":[function(require,module,exports) {
var e=require("segseg"),t=require("point-in-big-polygon"),n=require("2d-polygon-area"),r=require("signum"),i=Math.abs;function s(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r].slice();return n}function o(e,t,n){this.vec=e,this.alpha=t||0,this.intersect=!!n}function v(e){for(var t,n,r=e.length,i=0;i<r;i++){var s=e[i];t?(n.next=new o(s),n.next.prev=n,n=n.next):n=t=new o(s)}return t}function a(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(e){for(var t=e.length-1;t--;){var n=e[t],r=e[t+1];n[0]===r[0]&&n[1]===r[1]&&e.splice(t,1)}return e}function u(t,n){var r,i,s=t.last();s.next=new o(t.vec,s),s.next.prev=s;var v=n.last();v.next=new o(n.vec,v),v.next.prev=v;var c=!1;for(r=t;r.next;r=r.next)if(!r.intersect)for(i=n;i.next;i=i.next)if(!i.intersect){var u=r.vec,h=r.next.nextNonIntersection().vec,f=i.vec,p=i.next.nextNonIntersection().vec,x=e(u,h,f,p);if(x&&!0!==x){c=!0;var l=new o(x,a(u,x)/a(u,h),!0),w=new o(x,a(f,x)/a(f,p),!0);l.neighbor=w,w.neighbor=l,l.insertBetween(r,r.next.nextNonIntersection()),w.insertBetween(i,i.next.nextNonIntersection())}}return c}function h(e,t,n,r,i){var s,o,v=n(e.vec)<0;for("and"===i&&(v=!v),s=e;s.next;s=s.next)s.intersect&&(s.entry=v,v=!v);var a=r(t.vec)>0;for("or"===i&&(a=!a),o=t;o.next;o=o.next)o.intersect&&(o.entry=a,a=!a)}function f(e,t){e.createLoop(),t.createLoop();for(var n,r,i=[];(n=e.firstNodeOfInterest())!==e;){for(r=[];!n.visited;n=n.neighbor){r.push(n.vec);for(var s=n.entry;;){if(n.visited=!0,(n=s?n.next:n.prev).intersect){n.visited=!0;break}r.push(n.vec)}}i.push(c(r))}return i}function p(e,o,a){var c,p=v(e),x=v(o),l=t([o]),w=t([e]);if(u(p,x))h(p,x,l,w,a),c=f(p,x);else{var g=l(e[0])<0,d=w(o[0])<0;switch(c=[],a){case"or":g||d?g?c.push(s(o)):d&&c.push(s(e)):(c.push(s(e)),c.push(s(o)));break;case"and":if(g)c.push(s(e));else{if(!d)throw new Error("woops");c.push(s(o))}break;case"not":var b=s(e),y=s(o),I=n(b),N=n(y);r(I)===r(N)&&(d?y.reverse():g&&b.reverse()),c.push(b),i(I)>i(N)?c.push(y):c.unshift(y)}}return c}o.prototype={vec:null,next:null,next:null,prev:null,nextPoly:null,neighbor:null,intersect:null,entry:null,visited:!1,alpha:0,nextNonIntersection:function(){for(var e=this;e&&e.intersect;)e=e.next;return e},last:function(){for(var e=this;e.next&&e.next!==this;)e=e.next;return e},createLoop:function(){var e=this.last();e.prev.next=this,this.prev=e.prev},firstNodeOfInterest:function(){var e=this;if(e)do{e=e.next}while(e!==this&&(!e.intersect||e.intersect&&e.visited));return e},insertBetween:function(e,t){for(var n=e;n!==t&&n.alpha<this.alpha;)n=n.next;this.next=n,this.prev=n.prev,this.prev&&(this.prev.next=this),this.next.prev=this}},module.exports=p;
},{"segseg":"aaVS","point-in-big-polygon":"qJ4M","2d-polygon-area":"nk0M","signum":"fuZY"}],"PuZs":[function(require,module,exports) {
"use strict";function r(r){for(var t=r.length,e=r[r.length-1],n=t,o=t-2;o>=0;--o){var a=e;(v=(u=r[o])-((e=a+u)-a))&&(r[--n]=e,e=v)}var l=0;for(o=n;o<t;++o){var u,v;(v=(u=e)-((e=(a=r[o])+u)-a))&&(r[l++]=v)}return r[l++]=e,r.length=l,r}module.exports=r;
},{}],"Ae/3":[function(require,module,exports) {
"use strict";module.exports=a;var r=require("robust-orientation")[3];function t(r,t,a,n){for(var e=0;e<2;++e){var i=r[e],u=t[e],o=Math.min(i,u),f=Math.max(i,u),m=a[e],v=n[e],h=Math.min(m,v);if(Math.max(m,v)<o||f<h)return!1}return!0}function a(a,n,e,i){var u=r(a,e,i),o=r(n,e,i);if(u>0&&o>0||u<0&&o<0)return!1;var f=r(e,a,n),m=r(i,a,n);return!(f>0&&m>0||f<0&&m<0)&&(0!==u||0!==o||0!==f||0!==m||t(a,n,e,i))}
},{"robust-orientation":"GDiG"}],"rP4z":[function(require,module,exports) {
"use strict";module.exports=o;var r=require("two-product"),e=require("robust-sum"),u=require("robust-scale"),t=require("robust-compress"),s=require("robust-segment-intersect");function o(o,i,c,n){if(!s(o,i,c,n))return[[0],[0],[0]];var q=e([c[1]],[-n[1]]),b=e([-c[0]],[n[0]]),m=e(e(u(b,o[1]),u(b,-i[1])),e(u(q,o[0]),u(q,-i[0]))),a=e(r(-o[0],i[1]),r(o[1],i[0])),p=e(r(-c[0],n[1]),r(c[1],n[0])),d=e(e(u(p,o[0]),u(p,-i[0])),e(u(a,-c[0]),u(a,n[0]))),f=e(e(u(p,o[1]),u(p,-i[1])),e(u(a,-c[1]),u(a,n[1])));return[t(d),t(f),t(m)]}
},{"two-product":"8Mnn","robust-sum":"Q8bh","robust-scale":"jbtT","robust-compress":"PuZs","robust-segment-intersect":"Ae/3"}],"nyeu":[function(require,module,exports) {
function e(e){var a=0,r=e.length;switch(r){case 1:a=e[0];break;case 2:a=e[0]+e[1];break;case 3:a=e[0]+e[1]+e[2];break;case 4:a=e[0]+e[1]+e[2]+e[3];break;default:for(var c=0;c<r;c++)a+=e[c]}return a}module.exports=e;
},{}],"jjBk":[function(require,module,exports) {
var r=require("exact-segment-intersect"),e=require("robust-estimate-float");function t(r,e){return r[0]===e[0]&&r[1]===e[1]}module.exports=u;var a=[0,0],i=[0,0],n=[0,0],f=[0,0];function o(r,e){Array.isArray(r)?(e[0]=r[0],e[1]=r[1]):(e[0]=r.x,e[1]=r.y)}function u(u,v){for(var s={},c=u.length,l=[],p=0;p<c;p++){var g=u[p],h=u[(p+1)%c];o(g,n),o(h,f);for(var m=0;m<c;m++)if(p!==m){var x=u[m],y=u[(m+1)%c];if(o(x,a),o(y,i),!(t(a,n)||t(a,f)||t(i,n)||t(i,f))){var q=r(n,f,a,i),A=q[2];if(1!==A.length||A[0]){var b=e(q[2]);if(q[0]=e(q[0])/b,q[1]=e(q[1])/b,q.pop(),!(t(q,n)||t(q,f)||t(q,a)||t(q,i))){var d=q+"",j=!s[d];j&&(s[d]=!0);var k=j;v&&(k=v(q,p,g,h,m,x,y,j)),k&&l.push(q)}}}}}return l}
},{"exact-segment-intersect":"rP4z","robust-estimate-float":"nyeu"}],"habX":[function(require,module,exports) {
if("undefined"!=typeof require)var t=require("vec2"),n=require("segseg"),i=require("line2"),r=require("2d-polygon-boolean"),o=require("2d-polygon-self-intersections");var e=Math.PI,s=2*e,u=function(t){return t<0&&(t+=s),t},a=function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(t){return"function"==typeof t},c=function(t){return void 0!==t};function f(n){return n instanceof f?n:this instanceof f?(Array.isArray(n)||(n=n?[n]:[]),void(this.points=n.map(function(n){return Array.isArray(n)?t.fromArray(n):n instanceof t?n:void 0!==n.x&&void 0!==n.y?t(n.x,n.y):void 0}))):new f(n)}f.prototype={each:function(t){for(var n=0;n<this.points.length&&!1!==t.call(this,this.point(n-1),this.point(n),this.point(n+1),n);n++);return this},insert:function(t,n){this.points.splice(n,0,t)},point:function(t){var n=t%this.points.length;return n<0&&(n=this.points.length+n),this.points[n]},dedupe:function(t){var n={},i=this.points.filter(function(t){var i=t.x+":"+t.y;if(!n[i])return n[i]=!0,!0});return t?new f(i):(this.points=i,this)},remove:function(t){return"number"==typeof t?this.points.splice(t,1):this.points=this.points.filter(function(n){return n!==t}),this},clean:function(t){var n=this.point(-1),i=this.points.filter(function(t){var i=!1;return n.equal(t)||(i=!0),n=t,i});return t?new f(i):(this.points=i,this)},simplify:function(){var t=function(t){return Math.round(1e4*t)/1e4},n=function(n,i,r){var o=n.x*(i.y-r.y)+i.x*(r.y-n.y)+r.x*(n.y-i.y);return 0===t(o)};this.points=this.points.filter(Boolean);for(var i=[],r=0;r<this.points.length;r++){var o=this.point(r-1),e=this.point(r+1),s=this.point(r),u=s.subtract(o,!0).angleTo(s.subtract(e,!0));!n(o,s,e)&&t(u)&&i.push(s)}return this.points=i,this},winding:function(){return this.area()>0},rewind:function(t){return t=!!t,this.winding()!==t&&this.points.reverse(),this},area:function(){var t=0,n=this.point(0);return this.each(function(i,r,o,e){if(!(e<2)){var s=n.subtract(r,!0),u=n.subtract(i,!0);t+=s.x*u.y-s.y*u.x}}),t/2},closestPointTo:function(t){var n,i=this.points.length,r=1/0,o=null,e=0,s=!1;for(n=0;n<i;n++){var u=this.point(n-1),a=this.point(n);if(!u.equal(a)){var h=a.subtract(u,!0),c=t.subtract(u,!0).dot(h),f=h.dot(h),p=Math.min(Math.max(c/f,0),1),l=h.multiply(p).add(u),y=t.subtract(l,!0).lengthSquared();y<r&&(o=l,e=n,s=0===p||1===p,r=y)}}return o.prev=this.point(e-1),o.next=this.point(e+1),s&&(o.current=this.point(e)),o},center:function(){var n=this.aabb();return t(n.x+n.w/2,n.y+n.h/2)},scale:function(t,n,i){var r=this;i&&(r=this.clone()),n||(n=r.center()),r.each(function(n,i){i.multiply(t)});var o=n.multiply(t,!0).subtract(n);return r.each(function(t,n){n.subtract(o)}),r},containsPoint:function(t){var n=!1;return this.each(function(i,r,o){(i.y<=t.y&&t.y<r.y||r.y<=t.y&&t.y<i.y)&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(n=!n)}),n},containsPolygon:function(t){a(t)&&(t=new f(t));for(var i=0;i<t.points.length;i++)if(!this.containsPoint(t.points[i]))return!1;for(i=0;i<this.points.length;i++)for(var r=this.line(i),o=0;o<t.points.length;o++){var e=t.line(o),s=n(r[0],r[1],e[0],e[1]);if(s&&!0!==s)return!1}return!0},aabb:function(){if(this.points.length<2)return{x:0,y:0,w:0,h:0};var t,n,i,r,o=this.point(1);return n=t=o.x,i=r=o.y,this.each(function(o,e){e.x>n&&(n=e.x),e.x<t&&(t=e.x),e.y>i&&(i=e.y),e.y<r&&(r=e.y)}),{x:t,y:r,w:n-t,h:i-r}},offset:function(r,o){var e=[];this.rewind(!1).simplify().each(function(t,n,i,o){var a=n.subtract(t,!0).normalize(),h=n.subtract(i,!0).normalize(),c=r/Math.sin(Math.acos(a.dot(h))/2),f=a.add(h,!0).normalize().multiply(c,!0),p=u(a.angleTo(h)),l=a.perpDot(h)<0?n.add(f,!0):n.subtract(f,!0);(p>.75*s||p<.25*s)&&(l.computeSegments=p,n.color="white",n.radius=3),l.point=n,e.push(l)});var a=function(n,o){var e=n.subtract(o,!0),s=t(1,0).angleTo(e),u=t(r,0).rotate(s+Math.PI/2);u.add(o);var a=u.add(e,!0),h=new i(u.x,u.y,a.x,a.y),c=n.add(e,!0);new i(n.x,n.y,c.x,c.y);return h},h=f(e),c=[];return h.each(function(t,i,r,o){if(n(i,i.point,r,r.point)){var e=h.point(o-2),s=h.point(o+2),u=(a(e.point,t.point),a(t.point,i.point)),f=(a(i.point,r.point),a(r.point,s.point)),p=u.intersect(f);p.color="yellow",p.point=i.point,c.push(p)}else c.push(i)}),c.length?f(c):h},line:function(t){return[this.point(t),this.point(t+1)]},lines:function(t){var n=0;return this.each(function(i,r,o){t(r,o,n++)}),this},selfIntersections:function(){var n=[];return o(this.points,function(i,r,o,e,s,u,a,h){if(h){var c=t.fromArray(i);return n.push(c),c.s=r+o.subtract(c,!0).length()/o.subtract(e,!0).length(),c.b=s+u.subtract(c,!0).length()/u.subtract(a,!0).length(),c.si=r,c.bi=s,!1}}),f(n)},pruneSelfIntersections:function(){var t=this.selfIntersections();var n=this.point(0).clone();n.s=0,n.b=this.points.length-1+.99;var i=new function(t,n){this.value=t,this.depth=this.depth,this.children=[]}(n),r=[n];t.each(function(t,n,o){var e,s,u,a;console.log("belongTo:",(e=i.s,s=i.b,u=n.s,a=n.b,e>u&&s<a),"contain:",function(t,n,i,r){return t<i&&n>r}(i.s,i.b,n.s,n.b),"interfere:",function(t,n,i,r){return t<i&&i<n&&r>n||i<n&&n<r&&t<i}(i.s,i.b,n.s,n.b)),r.push(n),i=n});var o=[];if(r.length<2)return[this];r.sort(function(t,n){return t.s-n.s});for(var e=0;e<r.length;e+=2){var s=[],u=e<r.length-1?r[e+1]:null;if(u){for(var a=Math.floor(r[e].s);a<=Math.floor(u.s);a++)s.push(this.point(a));s.push(u);for(a=Math.floor(u.b+1);a<=Math.floor(r[e].b);a++)s.push(this.point(a))}else{s.push(r[e]);for(var h=Math.floor(r[e].s+1);h<=Math.floor(r[e].b);h++)s.push(this.point(h))}o.push(new f(s))}return o},get length(){return this.points.length},clone:function(){var t=[];return this.each(function(n,i){t.push(i.clone())}),new f(t)},rotate:function(t,n,i){return n=n||this.center(),(i?this.clone():this).each(function(i,r){r.subtract(n).rotate(t).add(n)})},translate:function(t,n){var i=n?this.clone():this;return i.each(function(n,i){i.add(t)}),i},equal:function(t){for(var n=t.length;n--;)if(!this.point(n).equal(t.point(n)))return!1;return!0},containsCircle:function(n,i,r){var o=new t(n,i);return!!this.containsPoint(o)&&(this.closestPointTo(o).distance(o)>=r||void 0)},contains:function(n){return!!n&&(c(n.radius)&&n.position?(i=h(n.radius)?n.radius():n.radius,this.containsCircle(n.position.x,n.position.y,i)):void 0!==n.points?(h(n.containsPolygon)?r=n.points:a(n.points)&&(r=n.points),this.containsPolygon(r)):c(n.x1)&&c(n.x2)&&c(n.y1)&&c(n.y2)?this.containsPolygon([new t(n.x1,n.y1),new t(n.x2,n.y1),new t(n.x2,n.y2),new t(n.x1,n.y2)]):!(!c(n.x)||!c(n.y))&&(c(n.w)&&c(n.h)&&(o=n.x+n.w,e=n.y+n.h),c(n.width)&&c(n.height)&&(o=n.x+n.width,e=n.y+n.height),this.containsPolygon([new t(n.x,n.y),new t(o,n.y),new t(o,e),new t(n.x,e)])));var i,r,o,e},union:function(t){return f(r(this.toArray(),t.toArray(),"or")[0])},cut:function(t){return r(this.toArray(),t.toArray(),"not").map(function(t){return new f(t)})},intersect:function(t){return r(this.toArray(),t.toArray(),"and").map(function(t){return new f(t)})},toArray:function(){for(var t=this.length,n=Array(t),i=0;i<t;i++)n[i]=this.points[i].toArray();return n},toString:function(){return this.points.join(",")}},"undefined"!=typeof module&&module.exports&&(module.exports=f),"undefined"!=typeof window&&(window.Polygon=f);
},{"vec2":"7dho","segseg":"aaVS","line2":"BvZS","2d-polygon-boolean":"3ZKJ","2d-polygon-self-intersections":"jjBk"}],"sUwh":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=a();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=require("polygon"),s=["#ec7063","#9b59b6","#85c1e9","#82e0aa","#f7dc6f","#e67e22","#99a3a4"],y=0,b=function(t){o(u,p);var n=c(u);function u(t){var r;return e(this,u),(r=n.call(this,t)).vertices=r.points,r.id=y++,r.fillStyle=s[r.id%s.length],r}return r(u,[{key:"hash",value:function(){return this.points.map(function(t){return t.id}).join("-")}},{key:"toString",value:function(){return"<Face ".concat(this.id,">")}}],[{key:"resetCounter",value:function(){y=0}}]),u}();module.exports=b;
},{"polygon":"habX"}],"t1u+":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=require("vec2"),y=0,s=function(t){o(u,p);var n=c(u);function u(t,r){var o;return e(this,u),(o=n.call(this,t,r)).id=y++,o}return r(u,[{key:"toString",value:function(){return"<Vertex ".concat(this.id,">")}}],[{key:"resetCounter",value:function(){y=0}}]),u}();module.exports=s;
},{"vec2":"7dho"}],"T6Rb":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=require("assert"),r=require("./edge"),s=require("./face"),n=require("vec2"),i=require("./vertex"),o=!0,u=!0;function c(){this.vertices=[],this.edges=[],this.faces=[]}c.resetCounter=function(){r.resetCounter(),s.resetCounter(),i.resetCounter()},c.getAngle=function(e,t,r){var s=c._tmpAngleVectorU=c._tmpAngleVectorU||new n,i=c._tmpAngleVectorV=c._tmpAngleVectorV||new n;s.set(e,!1),s.subtract(t,!1),i.set(r,!1),s.subtract(t,!1);var o=s.angleTo(i);return o<0&&(o+=2*Math.PI),o},c.prototype={getNearbyVertex:function(e,t,r){for(var s=null,i=1/0,o=new n(e,t),u=0;u<this.vertices.length;u+=1){var c=this.vertices[u].distance(o);c<=r&&c<i&&(i=c,s=this.vertices[u])}return s},addVertex:function(e,t){var r=new i(e,t);return this.vertices.push(r),r},addEdge:function(e,s){t.notEqual(e,s,"Vertices are the same");for(var n=0;n<this.edges.length;n+=1)if(this.edges[n].matches(e,s))return this.edges[n];var i=new r(e,s);return this.edges.push(i),this.updateFaces(),i},updateFaces:function(){for(var e=[],t=0;t<this.edges.length;t+=1){var r=void 0;(r=this.findSmallestFace(this.edges[t].vertexA,this.edges[t].vertexB))&&e.push(r),(r=this.findSmallestFace(this.edges[t].vertexB,this.edges[t].vertexA))&&e.push(r)}var n=[];e.forEach(function(e){var t=new s(e);t.winding()===o&&n.push(t)});var i=[],u={};n.forEach(function(e){var t=e.points.map(function(e){return e.id}).sort().join("-");!0!==u[t]&&(u[t]=!0,i.push(e))}),this.faces=i},findSmallestFace:function(t,r){var s=this,n=[],i={vertex:r,previousVertices:[t]},o={};o[t.id]=!0;for(var u=function(){var e=i.previousVertices[i.previousVertices.length-1],u=i.vertex;if(o[u.id]=!0,i.previousVertices.length>=2&&u===t)return{v:i.previousVertices};for(var a=[],v=0;v<s.edges.length;v+=1)s.edges[v].contains(u)&&a.push(s.edges[v].other(u));for(var h=[],f=0;f<a.length;f+=1){var p=a[f];!0===o[p.id]&&p!==t||!0===o[p.id]&&u===r||h.push(p)}h.length>=2&&h.sort(function(t,r){var s=c.getAngle(e,u,t);return c.getAngle(e,u,r)-s});var g=i.previousVertices.slice();g.push(u),h.forEach(function(e){n.push({vertex:e,previousVertices:g})}),i=n.pop()};i;){var a=u();if("object"===e(a))return a.v}return null}},module.exports=c;
},{"assert":"DlZn","./edge":"xd3S","./face":"sUwh","vec2":"7dho","./vertex":"t1u+"}],"Oadb":[function(require,module,exports) {
var t=require("./vector-network");function e(){this.vectorNetworks=[new t],this.lastVectorNetwork=null,this.lastVertex=null,this.snappedVertex=null,this.cursor={x:0,y:0}}module.exports=e;
},{"./vector-network":"T6Rb"}],"9D1a":[function(require,module,exports) {
var t=10,e=5;function o(t){var e=t.context,o=t.data,n=t.width,i=t.height;this.context=e,this.data=o,this.width=n,this.height=i,this.queueRender()}o.prototype={setSize:function(t,e){this.width=t,this.height=e},queueRender:function(){var t=this;requestAnimationFrame(function(){t.render()})},render:function(){var o=this,n=this.data;this.context.clearRect(0,0,this.width,this.height),n.vectorNetworks.forEach(function(e){var i=e.faces,c=e.edges,r=e.vertices;i.forEach(function(t){o.context.beginPath(),o.context.moveTo(t.vertices[0].x,t.vertices[0].y);for(var e=1;e<t.vertices.length;e+=1)o.context.lineTo(t.vertices[e].x,t.vertices[e].y);o.context.fillStyle=t.fillStyle,o.context.fill()}),c.forEach(function(t){o.context.beginPath(),o.context.moveTo(t.vertexA.x,t.vertexA.y),o.context.lineTo(t.vertexB.x,t.vertexB.y),o.context.strokeStyle="#000000",o.context.stroke()}),r.forEach(function(e){o.context.fillStyle=e===n.snappedVertex?"#FF00FF":"#000000",o.context.fillRect(e.x-t/2,e.y-t/2,t,t)})}),null!==n.lastVertex&&(o.context.beginPath(),o.context.moveTo(n.lastVertex.x,n.lastVertex.y),this.context.lineTo(n.cursor.x,n.cursor.y),o.context.strokeStyle="#000000",this.context.stroke()),null===n.snappedVertex&&(o.context.fillStyle="#000000",this.context.fillRect(n.cursor.x-e/2,n.cursor.y-e/2,e,e))}},module.exports=o;
},{}],"fk1P":[function(require,module,exports) {
var t=10;function e(t){var e=t.canvasEl,a=t.data,s=t.scene;this.canvasEl=e,this.data=a,this.scene=s,this._teardownFns=this.addEventListeners()}e.prototype={_queueRender:function(){this.scene.queueRender()},getMousePosition:function(t){var e=this.getCanvasOffset();return{x:t.pageX-e.left-window.scrollX,y:t.pageY-e.top-window.scrollY}},getCanvasOffset:function(){var t=this.canvasEl.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},_addEventListener:function(t,e){var a=e.bind(this);return this.canvasEl.addEventListener(t,a),function(){this.canvasEl.removeEventListener(t,a)}},addEventListeners:function(){return[this._addEventListener("click",this.handleClick),this._addEventListener("mousemove",this.handleMousemove)]},handleClick:function(e){var a=this.getMousePosition(e),s=this.data.vectorNetworks[0],n=s.getNearbyVertex(a.x,a.y,t);if(null!==n)return this.data.lastVertex?(n!==this.data.lastVertex&&s.addEdge(this.data.lastVertex,n),this.data.lastVertex=null,this.data.lastVectorNetwork=null):(this.data.lastVertex=n,this.data.lastVectorNetwork=s),void this._queueRender();var i=this.data.vectorNetworks[0],r=i.addVertex(a.x,a.y);this.data.lastVertex&&i.addEdge(this.data.lastVertex,r),this.data.lastVertex=r,this.data.lastVectorNetwork=i,this._queueRender()},handleMousemove:function(e){var a=this.getMousePosition(e);this.data.snappedVertex=null;var s=this.data.vectorNetworks[0].getNearbyVertex(a.x,a.y,t);null!==s&&(a.x=s.x,a.y=s.y,this.data.snappedVertex=s),this.data.cursor.x=a.x,this.data.cursor.y=a.y,this._queueRender()}},module.exports=e;
},{}],"QdeU":[function(require,module,exports) {
var t=require("./data"),e=require("./scene"),i=require("./bindings");function n(n){this.canvasEl=n,this.context=n.getContext("2d"),this.data=new t,this.scene=new e({context:this.context,data:this.data,width:null,height:null}),this.handleResize(),this.bindings=new i({canvasEl:this.canvasEl,data:this.data,scene:this.scene})}n.prototype={handleResize:function(){var t=this.canvasEl.width=window.innerWidth,e=this.canvasEl.height=600;this.scene.setSize(t,e)}},module.exports=n;
},{"./data":"Oadb","./scene":"9D1a","./bindings":"fk1P"}],"d6sW":[function(require,module,exports) {
var e=require("assert"),n=require("./app");function a(){var a=document.getElementById("canvas");e(a,"Unable to find #canvas element"),window.app=new n(a)}a();
},{"assert":"DlZn","./app":"QdeU"}]},{},["d6sW"], null)